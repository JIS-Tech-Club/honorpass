<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="google-signin-client_id" content="95394829121-4si8kco4p750hi8dkge55letu8ld33ft.apps.googleusercontent.com">
    <meta name="google-signin-scope" content="profile email">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link rel="stylesheet" href="css/stylesheet.css" media="screen">
    <title>Honor Pass @ JIS</title>
    <link href="favicon.ico" rel="icon" type="image/x-icon">
  </head>

  <body>
    <div id="title">
      <h1>Honor Pass JIS Website</h1>
    </div>

    <div id="login">
      <h3>Log In!</h3>

      <div id="g-signin2" data-onsuccess="onSignIn"   data-redirecturi="hpfront.html"></div>
    <script>
      function onSignIn(googleUser) {
        // Useful data for your client-side scripts:
        var profile = googleUser.getBasicProfile();
        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
        console.log('Full Name: ' + profile.getName());
        console.log('Given Name: ' + profile.getGivenName());
        console.log('Family Name: ' + profile.getFamilyName());
        console.log("Image URL: " + profile.getImageUrl());
        console.log("Email: " + profile.getEmail());

        // The ID token you need to pass to your backend:
        var id_token = googleUser.getAuthResponse().id_token;
        console.log("ID Token: " + id_token);
      };
    function renderButton() {
    gapi.signin2.render('my-signin2', {
       'scope': 'profile email',
       'width': 1000000,
       'height': 500,
       'longtitle': true,
       'theme': 'dark',
       'onsuccess': onSuccess,
       'onfailure': onFailure
     });
   };
    function onSuccess(googleUser) {
      console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
    };
    function onFailure(error) {
      console.log(error);
    };
    </script>

 <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>

    <form class="jislogin" action="index.html" method="post">
        <input type="email" name="user" placeholder="JIS Email" size="30%"><br>
        <input type="password" name="pass" placeholder="Password" size="30%"><br>
        <input type="submit" name="login" value="Login">
      </form>

      <a href="hpfront.html">List Front Link (Login Not Working)</a>


    </div>

    <div id="bottom">
      <br>
        <ul>
          <li><pre>   </pre></li>
          <li><a class="active" href="index.html"><h6>Home</h6></a></li>
          <li><a href="changelog.html"><h6>Changelog</h6></a></li>
          <li><a href="https://www.jisedu.or.id/members/students/index.aspx"><h6>JISNet</h6></a></li>
          <br>
          <li style="float:right; width:40%;"><h6 style="font-size:40%; padding-right:1%;">Coded by: Xavier Travers, Anish Tiwari, Ben Chalmers and Abhishu Brahmecha</h6></li>
        </ul>
    </div>

  </body>
</html>
